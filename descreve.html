<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>Fiscal Cidadão - 4N-1</title>
        <meta charset=”UTF-8”></meta>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
        <meta property="og:title" content="Fiscal Cidadão" />
        <meta property="og:description" content="PI da turma 4N-1 EC - UNIVESP Louveira" />
        <meta property="og:image" content="http://seudominio/img/image.jpg" />
        <!-- <link rel="manifest" href="/manifest.json"> -->
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700" rel="stylesheet">
        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBn2C_cOdYtu-oj3PKPwmFlMqtOP03EJHs&callback=initMap&libraries=&v=weekly"></script>
        <script>
            function chooseFile() {
                $("#fileInput").click();
            }
            var x=document.getElementById("demo");
            function getLocation()
            {
            if (navigator.geolocation)
                {
                navigator.geolocation.getCurrentPosition(initMap,showError);
                }
            else{x.innerHTML="Geolocalização não é suportada nesse browser.";}
            }

            // var map;
            // function initMap() {
            // map = new google.maps.Map(document.getElementById("mapholder"), {
            //     center: { lat: -34.397, lng: 150.644 },
            //     zoom: 8
            // });
            // }
            var map;
            function initMap(position) {
                lat=position.coords.latitude;
                lon=position.coords.longitude;
                latlon=new google.maps.LatLng(lat, lon);
                mapholder=document.getElementById('mapholder');
                // mapholder.style.height='250px';
                // mapholder.style.width='320px';
                var myOptions={
                    center:latlon,zoom:14,
                    mapTypeId:google.maps.MapTypeId.ROADMAP,
                    mapTypeControl:false,
                    navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
                };
                map = new google.maps.Map(document.getElementById("mapholder"), myOptions); 
                // {
                //     center: { lat: -34.397, lng: 150.644 },
                //     zoom: 8
                // });
                var marker=new google.maps.Marker({position:latlon,map:map,title:"Você está Aqui!"});
            }
 
            function showError(error){
            switch(error.code)
                {
                case error.PERMISSION_DENIED:
                x.innerHTML="Usuário rejeitou a solicitação de Geolocalização."
                break;
                case error.POSITION_UNAVAILABLE:
                x.innerHTML="Localização indisponível."
                break;
                case error.TIMEOUT:
                x.innerHTML="O tempo da requisição expirou."
                break;
                case error.UNKNOWN_ERROR:
                x.innerHTML="Algum erro desconhecido aconteceu."
                break;
                }
            }

            
        </script>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-dark" style="background-color:#490A3D">
            <a class="navbar-brand" href="./index.html"> Fiscal Cidadão </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="https://esuguimo.com.br">Vídeo <span class="sr-only">(conheça o projeto)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="https://github.com/EricaSugui/fiscal-cidadao">GitHub</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./sobre.html">Sobre esse App</a>
                </li>
              </ul>
              <span class="navbar-text">
                Turma 4N-1 de Eng de Computação da UNIVESP de Louveira. 
              </span>
            </div>
          </nav>
        <div class="game-container">
            <header class="row text-center">
                <h1 class="numberGuesser">Fiscal Cidadão</h1>
            </header>
            <h2 class="subtitle text-center">Você ajudando Louveira.</h2>
            <div class="rounds d-flex justify-content-center">
                <p class="round-label">insira as seguintes informações:</p>
            </div>

            <div style="height:0px;overflow:hidden">
                <input type="file" id="fileInput" name="fileInput" />
             </div>
             
            <div class="row  justify-content-center">
                    <button type="button" onclick="chooseFile();" class="col-5 btn tile-1 photo-map1">Adicione uma fotografia</button>
                
                <button href="#mapholder" type="button" onclick="getLocation();" class="col-5 btn tile-1 photo-map2">Adicione a localização</button>
                    
            </div>

            <div class="col btn tile-2 descreva">
                
                <label for="descreva">Insira mais detalhes:</label>
                <textarea id="descreva" name="descreva" cols="30" rows="3" placeholder="Descreva mais detalhes aqui."></textarea>
            </div>

            <div id="box-toggle">
                <div class="tgl">
                    <div id="mapholder"></div>
                </div>
            </div>
            


        </div>

        <div class="footer text-center">
            <p>2020 por alunos 4N-1 UNIVESP Louveira.</p>
          </div>

        <script>
            <script type="text/javascript">
02.
jQuery.fn.toggleText = function(a,b) {
03.
return   this.html(this.html().replace(new RegExp("("+a+"|"+b+")"),function(x){return(x==a)?b:a;}));
04.
}
05.
 
06.
$(document).ready(function(){
07.
$('.tgl').before('<span>Revelar conteúdo</span>');
08.
$('.tgl').css('display', 'none')
09.
$('span', '#box-toggle').click(function() {
10.
$(this).next().slideToggle('slow')
11.
.siblings('.tgl:visible').slideToggle('fast');
12.
// aqui começa o funcionamento do plugin
13.
$(this).toggleText('Revelar','Esconder')
14.
.siblings('span').next('.tgl:visible').prev()
15.
.toggleText('Revelar','Esconder')
16.
});
17.
})
        </script>  
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    </body>
</html>